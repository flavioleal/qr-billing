
<div class="container mb-2">
  <div class="row">
    <div class="d-flex justify-content-between">
      <h3>Adicionar Cobran√ßa</h3>
      <div class="d-flex align-items-center">
        <button type="button" class="btn btn-primary btn-sm"routerLink="/billing">Voltar</button>
      </div>
    </div>

  </div>
</div>
<div class="container card">
  <div *ngFor="let alert of alerts" class="mt-3 mb-3">
    <alert [type]="alert.type" [dismissOnTimeout]="alert.timeout" (onClosed)="onClosedAlert(alert)">{{ alert.msg }}</alert>
  </div>
  <div class="row card-body">
    <form [formGroup]="form" #formTemplate="ngForm" (ngSubmit)="onSubmit(formTemplate)" class="needs-validation" novalidate>
        <div class="col-sm-6 mb-2">
          <label for="nome" class="form-label">Nome</label>
          <input formControlName="customerName"
            type="text"
            class="form-control"
            id="nome"
            [class.is-invalid]="form.get('customerName')?.errors  && (form.get('customerName')?.dirty || form.get('customerName')?.touched)"
            [class.is-valid]="!form.get('customerName')?.errors  && (form.get('customerName')?.dirty || form.get('customerName')?.touched)"
            required>
            <app-field-errors #fieldErros [control]="form.get('customerName')" ></app-field-errors>
        </div>
        <div class="col-sm-6  mb-2">
          <label for="email" class="form-label">Email</label>
          <input formControlName="customerEmail"
            type="email"
            class="form-control"
            id="email"
            placeholder="exemplo@exemplo.com"
            [class.is-invalid]="form.get('customerEmail')?.errors  && (form.get('customerEmail')?.dirty || form.get('customerEmail')?.touched)"
            [class.is-valid]="!form.get('customerEmail')?.errors  && (form.get('customerEmail')?.dirty || form.get('customerEmail')?.touched)"
            required>
            <app-field-errors #fieldErros [control]="form.get('customerEmail')" ></app-field-errors>
        </div>
        <div class="col-sm-6  mb-2">
          <label for="value" class="form-label">Valor</label>
          <input formControlName="value"
            type="text"
            class="form-control"
            id="value"
            [class.is-invalid]="form.get('value')?.errors  && (form.get('value')?.dirty || form.get('value')?.touched)"
            [class.is-valid]="!form.get('value')?.errors  && (form.get('value')?.dirty || form.get('value')?.touched)"
            required currencyMask>
            <app-field-errors #fieldErros [control]="form.get('value')" ></app-field-errors>
        </div>
        <div class="row mt-5 mb-3">
          <div class="row col-12">
            <div class="d-flex flex-row gap-2 justify-content-start">
              <button class="btn btn-primary" type="submit">Salvar</button>
              <button type="button" class="btn btn-secondary" (click)="clearForm()">Limpar</button>
            </div>
          </div>
        </div>
    </form>

  </div>
</div>
